<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TASJ_DOM_Travers</title>
</head>

<body>
  <p>TASK: apply backgroundColor:"red" for each elelement in #startNode, which has class "red"</p>
  <p>paragraph 2</p>
  <ul id="startNode">
    <li>
      <ol>
        <li class="red">make me red</li>
        <li>do not make me red</li>
      </ol>
    </li>
    <li class="red">make me red</li>
  </ul>

  <ol>
    <li id="redID" class="red">do not make me red</li>
  </ol>

  
  <script>
    function doSomething(node) {
      if (node.classList.contains("red")) {
        node.style.backgroundColor = "red";
        console.log(node.className);
      }
    };

    // HW: fix it
    function traverseDOM(node) {
      if(node === null){
        return;
      }

      doSomething(node);
      // get all HTML child nodes of node
      let children = node.children;

      // loop over children:
      for (let i = 0; i < children.length; i++) {
        let el = children[i];
        console.log(el);
        // do something with each child element:
        doSomething(el);

        traverseDOM(el);
      }

    }

    //Works on the whole body element:
    //let startNode = document.body;

    //Works on a element without children:
    let startNode = document.querySelector("#redID");

    //Does not throw an error, when it is called on a non-existent element
    //let startNode = document.querySelector("#blue");
    
    traverseDOM( startNode );

  </script>
</body>

</html>